### Frida:

It’s a dynamic code instrumentation toolkit. 
It lets you inject snippets of JavaScript or your own library into native apps on Windows, macOS, GNU/Linux, iOS, Android, and QNX. 
Frida also provides you with some simple tools built on top of the Frida API. These can be used as-is, tweaked to your needs, or serve as examples of how to use the API.

Frida’s core is written in C and injects Google’s V8 engine into the target processes, where your JS gets executed with full access to memory, hooking functions and even calling native functions inside the process. 

<br>

### Objection:

Components:

objection is made up of three primary components:

	1. Frida Gadget that runs in embedded mode and starts up with a patched mobile application. 
Frida is responsible for most of the magic under the hood, running the hooks provided by objection ultimately making this tool possible in the first place.

	1. Objection tool itself. 
This is a python software component that provides the objection commands and explore REPL (read-eval-print-loop).
It is responsible for interacting with a loaded Frida Gadget, running hooks and parsing the output generated by those.

	1. Objection hooks themselves.
These hooks are run using Frida within their respective runtimes to make all of the objection features you can use possible.

Prerequisites:

To run objection, all you need is the python3 interpreter to be available. Installation via pip should take care of all of the dependencies needed. For more details, please see the prerequisites section on the project wiki.

As for the target mobile applications though, for iOS, an unencrypted IPA is needed and Android just the normal APK should be fine. If you have the source code of the iOS application you want to explore, then you can simply embed and load the FridaGadget.dylib from within the Xcode project.

Installation:

Installation is simply a matter of `pip3 install objection`. This will give you the objection command.

<img width="713" alt="image" src="https://user-images.githubusercontent.com/48615614/204358616-14e20c6b-a7bf-4001-b88a-d1e36fcf0310.png">

#### Getting Started:

You have two options:

  1. Working with unrooted device ==> you will need to patch your apk with frida gadget.
  2. Working with rooted device ==> you will need to copy frida-server to your mobile and run it.

<br><br>

### Frida-server for rooted device

First off, download the frida-server for Android from our releases page and get it running on your device:
https://github.com/frida/frida/releases

```
$ adb push frida-server /data/local/tmp/ 
$ adb shell "chmod 755 /data/local/tmp/frida-server"
$ adb shell "/data/local/tmp/frida-server &"
```

Note: make sure that you download the frida-server matching with version of frida "12.0.3 in my case" and your mobile Arch "arm64 for Lenovo A7000"

![image](https://user-images.githubusercontent.com/48615614/204359843-a8d78b20-d10c-42c3-b8b7-81d8ca471e18.png)

<br>

#### Android apk Patching 

The first thing is to patch the apk, embedding a Frida gadget that can be used with objection or just Frida itself.

The `objection patchapk`  is a command that basically wraps around several other system commands, automating the patching process as far as possible. 

Patching - dependencies:

```
• aapt - from: http://elinux.org/Android_aapt
• adb - from: https://developer.android.com/studio/command-line/adb.html
• jarsigner - from: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/jarsigner.html
• apktool - from: https://ibotpeaches.github.io/Apktool/
```

They can be installed using apt or manually but make sure that they are available in your current PATH.

If your application is already installed on the device and you want to get the apk, please follow the below steps:

1. Locate the package name for the application you downloaded:

`$ adb shell pm list packages | grep <application name>`

![image](https://user-images.githubusercontent.com/48615614/204360550-ff5838a1-15b0-450a-9b35-250cb11d2f7e.png)

2. determine its installed path on the device:

`$ adb shell pm path <package name>`

![image](https://user-images.githubusercontent.com/48615614/204360633-83c2b63c-d83e-410d-b89d-e3972bb8fcd9.png)

	Note:  you will find the any application apk at /data/app/<packagename>/base.apk 

3. Pull the apk from the device:

`$ adb pull /data/app/<packagename>/base.apk appname.apk`

![image](https://user-images.githubusercontent.com/48615614/204360827-c32afed6-c84e-454f-93b2-203105db4e37.png)

After you got the apk file it's time to patch it with `objection patchapk`.

`objection patchapk -s <apk file>`

![image](https://user-images.githubusercontent.com/48615614/204360998-0838bd69-e8d2-433c-b872-26002fe929db.png)

Once you have a patched APK ready, its time to install it.

![image](https://user-images.githubusercontent.com/48615614/204361051-461cec00-f1df-4557-b50f-3f790da45a6a.png)

<br>

### Getting started with android

#### Unrooted Device:

With objection installed, a patched APK installed to your Android device and with the device connected and authorized to your computer via USB you may start using objection:

`objection explore`

![image](https://user-images.githubusercontent.com/48615614/204361448-27e5cfa9-0586-4c6e-bb5d-9fae07fc02c3.png)












